<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Mon Code Turtle Python</title>
  <meta name="description" content="Un code Turtle Python qui dessine une figure colorée et stylée !" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { background:#111; color:#f1f1f1; font-family: Arial, sans-serif; padding:24px; line-height:1.6; }
    h1 { color:#00ffcc; margin-bottom:8px; }
    p { margin-top:0 }
    pre { background:#222; padding:16px; border-radius:10px; overflow-x:auto; color:#fff; }
    code { font-family: "Courier New", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .actions { margin-top:16px; display:flex; gap:12px; flex-wrap:wrap; }
    button, a.download {
      cursor:pointer; border:none; border-radius:10px; padding:10px 14px; font-weight:700;
      background:#00ffcc; color:#000; text-decoration:none; box-shadow:0 4px 14px rgba(0,0,0,.25);
    }
    button:hover, a.download:hover { background:#00ccaa; }
  </style>
</head>
<body>

  <h1>Mon Code Turtle Python</h1>
  <p>Coucou ! Voici le code. Tu peux le copier… ou cliquer sur le bouton pour télécharger directement le fichier <code>.py</code>.</p>

  <pre><code id="snippet">
import turtle as t
import colorsys, time

t.bgcolor("black")
t.pensize(1)
t.speed(0)

h = 0
steps = 250
target_duration = 3  # secondes

start = time.time()

for i in range(steps):
    c = colorsys.hsv_to_rgb(h, 1, 1)
    t.fillcolor(c)
    t.begin_fill()

    t.forward(i)
    t.left(100)
    t.circle(30)

    for j in range(2):
        t.forward(i * j)
        t.right(109)

    t.end_fill()
    h += 0.008

    elapsed = time.time() - start
    remaining = target_duration - elapsed
    steps_left = steps - (i + 1)
    if steps_left > 0 and remaining > 0:
        time.sleep(remaining / steps_left)

t.done()
  </code></pre>

  <div class="actions">
    <button id="download-btn">Télécharger le script (.py)</button>
    <!-- Optionnel : lien simple si tu ajoutes réellement un fichier code_turtle.py à la racine du repo -->
    <!-- <a class="download" href="code_turtle.py" download>Télécharger (version fichier du repo)</a> -->
  </div>

  <script>
    // Crée et télécharge un fichier .py à partir du contenu affiché
    document.getElementById('download-btn').addEventListener('click', () => {
      const code = document.getElementById('snippet').textContent.trim() + "\n";
      const blob = new Blob([code], { type: 'text/x-python' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'code_turtle.py';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });
  </script>

</body>
</html>
